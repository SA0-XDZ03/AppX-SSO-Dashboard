<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body {
            font-family: 'Arial';
        }
    </style>
    <title>Document</title>
</head>
<body>
    <div class="nav">
        <a class="btn btn-outline-secondary btn-lg" style="border-radius: 0%;" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button" aria-controls="offcanvasExample">
            <i class="bi bi-filter-left"></i><span></span>
        </a>
        <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasExampleLabel">Filter Menu</h5>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <form method="post">
                    <fieldset>
                        <div class="mb-3">
                            <label class="form-label">Entity</label>
                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input" id="generalEntityCheckSwitch">
                                <label for="generalEntityCheckSwitch" class="form-check-label">General Entity</label>
                            </div>
                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input" id="personEntityCheckSwitch">
                                <label for="oersonEntityCheckSwitch" class="form-check-label">Person</label>
                            </div>
                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input" id="organisationEntityCheckSwitch">
                                <label for="OrganisationEntityCheckSwitch" class="form-check-label">Organisation</label>
                            </div>
                        </div>
                        <hr>
                        <div class="mb-3">
                        <label class="form-label">Search By</label>
                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input" id="usernameCheckSwitch">
                                <label for="usernameCheckSwitch" class="form-check-label">Username Search</label>
                            </div>
                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input" id="nameCheckSwitch">
                                <label for="nameCheckSwitch" class="form-check-label">Name Search</label>
                            </div>
                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input" id="keywordCheckSwitch">
                                <label for="keywordCheckSwitch" class="form-check-label">Keyword Search</label>
                            </div>
                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input" id="emailCheckSwitch">
                                <label for="emailCheckSwitch" class="form-check-label">Email Search</label>
                            </div>
                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input" id="phoneCheckSwitch">
                                <label for="phoneCheckSwitch" class="form-check-label">Phone Search</label>
                            </div>
                        </div>
                        <div class="mb-3">
                        <label class="form-label">From Class</label>
                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input" id="sociaMediaCheckSwitch">
                                <label for="sociaMediaCheckSwitch" class="form-check-label">Social Media</label>
                            </div>
                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input" id="searchEngineCheckSwitch">
                                <label for="searchEngineCheckSwitch" class="form-check-label">Search Engine</label>
                            </div>
                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input" id="archivesCheckSwitch">
                                <label for="archivesCheckSwitch" class="form-check-label">Archives</label>
                            </div>
                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input" id="deepDarkWebCheckSwitch">
                                <label for="deepDarkWebCheckSwitch" class="form-check-label">Deep/Dark Web</label>
                            </div>
                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input" id="blogForumCheckSwitch">
                                <label for="blogForumCheckSwitch" class="form-check-label">Blogs & Forums</label>
                            </div>
                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input" id="newsCheckSwitch">
                                <label for="newsCheckSwitch" class="form-check-label">News</label>
                            </div>
                            <div class="form-check form-switch">
                                <input type="checkbox" class="form-check-input" id="specialSitesCheckSwitch">
                                <label for="specialSitesCheckSwitch" class="form-check-label">Special Sites &nbsp;
                                </label>
                                <button type="button" class="btn btn-outline-secondary btn-sm" id="toastbtn" style="border-radius: 50%;">&nbsp;!&nbsp;</button>
                                <div class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                                    <div class="toast-header">
                                        <img src="..." class="rounded me-2" alt="...">
                                        <strong class="me-auto">Special Sources List</strong>
                                        <small class="text-body-secondary">11 mins ago</small>
                                        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                                    </div>
                                    <div class="toast-body">
                                        <ul>
                                            <li>https://source-1.com</li>
                                            <li>https://source-1.com</li>
                                            <li>https://source-1.com</li>
                                            <li>https://source-1.com</li>
                                            <li>https://source-1.com</li>
                                        </ul>
                                        for complete sources documentation, <a href="#">click here</a>
                                    </div>
                                </div>
                            </div>
                            <div class="form-check form-switch" id="cyberThreatIntelligenceSwitch" style="display: none;">
                                <input type="checkbox" class="form-check-input" id="cyberThreatIntelligenceCheckSwitch">
                                <label for="cyberThreatIntelligenceCheckSwitch" class="form-check-label">Cyber Threat Intelligence</label>
                                <div class="form-check form-switch" id="orgCTISources" style="display: none;">
                                    <input type="checkbox" class="form-check-input" id="CTISources-1">
                                    <label for="CTISources-1" class="form-check-label">CISA Advisories</label>
                                    <input type="checkbox" class="form-check-input" id="CTISources-2">
                                    <label for="CTISources-2" class="form-check-label">National Vulnerability Database (NVD)</label>
                                    <input type="checkbox" class="form-check-input" id="CTISources-3">
                                    <label for="CTISources-3" class="form-check-label">MITRE CVE</label>
                                    <input type="checkbox" class="form-check-input" id="CTISources-4">
                                    <label for="CTISources-4" class="form-check-label">3rd Party Sources</label>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <input type="text" class="form-control form-control-lg" name="search_query" placeholder="Search Query">
                        </div>
                        <button type="submit" class="btn btn-outline-success">Submit</button>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <!--MAP SOURCES & OTHER SIDE DIVISION-->
        <div class="row">
            <div class="col-lg-8 col-sm-8 col-md-8">
                <!--<div id="map" class="map"></div>-->
                <div class="leaflet-map" id="layerControl"></div>
            </div>
            <div class="col-lg-4 col-sm-4 col-md-4" id="newsFeedDisplay" style="display: none;">
                <h2>News Feeds</h2>
                <div id="content">
                    {% for content in content_list %}
                        <div class="card my-3">
                            <div class="card-body">
                                {{ content | safe }}
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
    <script>
        document.getElementById('organisationEntityCheckSwitch').addEventListener('change', function() {
            if (this.checked) {
                document.getElementById('cyberThreatIntelligenceSwitch').style.display = 'block';
                document.getElementById('cyberThreatIntelligenceCheckSwitch').addEventListener('change', function() {
                    if (this.checked) {
                        document.getElementById('orgCTISources').style.display = 'block';
                    } else {
                        document.getElementById('orgCTISources').style.display = 'none';
                    }
                });
            } else {
                document.getElementById('cyberThreatIntelligenceSwitch').style.display = 'none';
                document.getElementById('orgCTISources').style.display = 'none';
            }
        });

        document.getElementById('newsCheckSwitch').addEventListener('change',function(){
            if (this.checked) {
                document.getElementById('newsFeedDisplay').style.display = 'block';
            }
            else {
                document.getElementById('newsFeedDisplay').style.display = 'none';
            }
        });
        document.getElementById("toastbtn").onclick = function() {
            var toastElList = [].slice.call(document.querySelectorAll('.toast'))
            var toastList = toastElList.map(function(toastEl) {
                return new bootstrap.Toast(toastEl)
            })
            toastList.forEach(toast => toast.show()) 
        }
    </script>
    <script src="MapsOpen.js"></script>
</body>
</html>